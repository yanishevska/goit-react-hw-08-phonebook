(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[4],{100:function(t,e,n){t.exports={svgBtnDelete:"ContactList_svgBtnDelete__I7k2V",btnDelete:"ContactList_btnDelete__3bmIN",contactItem:"ContactList_contactItem__2G8ih",nameForm:"ContactList_nameForm__1tXIl",numberForm:"ContactList_numberForm__2JEr4",contactList:"ContactList_contactList__34ekQ"}},108:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return Z}));var a=n(16),c=n(0),r=n(86),s=n.n(r),o=n(95),i=n.n(o),u=n(4),l=function(t){return t.contacts.items},m=function(t){return t.contacts.filter},b=function(t){var e=l(t),n=m(t);if(n){var a=n.toLowerCase();return e.filter((function(t){return t.name.toLowerCase().includes(a)}))}return e},d=n(13),f=n.n(d),j=n(21),h=n(15),p=n.n(h),_=n(20),O=_.a.getContactsRequest,x=_.a.getContactsSuccess,v=_.a.getContactsError,C=_.a.addContactsRequest,F=_.a.addContactsSuccess,N=_.a.addContactsError,g=_.a.deleteContactsRequest,L=_.a.deleteContactsSuccess,k=_.a.deleteContactsError,I=(n(96),n(101)),w=n(1);var y=function(){var t=Object(u.c)(l),e=Object(u.b)(),n=Object(c.useState)(""),r=Object(a.a)(n,2),o=r[0],m=r[1],b=Object(c.useState)(""),d=Object(a.a)(b,2),h=d[0],_=d[1],O=s.a.generate(),x=function(n){var a=n.name.toLowerCase();t.find((function(t){return t.name.toLowerCase()===a}))?alert("".concat(n.name," is already in contacts")):t.find((function(t){return t.number.toLowerCase()===n.number}))?alert("".concat(n.number," is already in contacts")):e(function(t){return function(){var e=Object(j.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(C()),e.next=3,p.a.post("/contacts",t).then((function(t){var e=t.data;return n(F(e))})).catch((function(t){return n(N(t))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({name:o,number:h}))},v=function(){m(""),_("")};return Object(w.jsxs)("form",{onSubmit:function(t){t.preventDefault(),x({name:o,number:h,id:O}),v()},className:i.a.form,children:[Object(w.jsx)("label",{htmlFor:O,className:i.a.labelForm,children:"Name"}),Object(w.jsx)("input",{className:i.a.formInput,type:"text",name:"name",value:o,onChange:function(t){var e=t.target,n=e.name,a=e.value;switch(n){case"name":m(a);break;case"number":_(a);break;default:return}},pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",id:O,required:!0}),Object(w.jsxs)("label",{htmlFor:O,className:i.a.labelForm,children:[" ","Number"]}),Object(w.jsx)(I.a,{className:i.a.formInput,value:h,id:O,onChange:_}),Object(w.jsx)("div",{className:"frame",children:Object(w.jsx)("div",{className:i.a.btnList,children:Object(w.jsxs)("button",{type:"submit",className:i.a.btn12,children:[Object(w.jsx)("span",{children:"Add contact"}),Object(w.jsx)("span",{children:"Add contact"})]})})})]})},A=n(99),D=n.n(A),S=_.a.changeContact;var z=function(){var t=Object(u.c)(m),e=Object(u.b)();return Object(w.jsxs)("label",{className:D.a.filterLabel,children:["Find contacts by name",Object(w.jsx)("input",{className:D.a.formInput,type:"text",value:t,onChange:function(t){e(S(t.target.value))}})]})},B=n(100),E=n.n(B);function q(){var t=Object(u.b)(),e=Object(u.c)(b);return Object(c.useEffect)((function(){t(function(){var t=Object(j.a)(f.a.mark((function t(e){var n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(O()),t.prev=1,t.next=4,p.a.get("/contacts");case 4:n=t.sent,a=n.data,e(x(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(v(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}())}),[t]),Object(w.jsx)(w.Fragment,{children:e?Object(w.jsx)("ul",{className:E.a.contactList,children:e.map((function(e){var n=e.id,a=e.name,c=e.number;return Object(w.jsxs)("li",{className:E.a.contactItem,children:[Object(w.jsxs)("span",{className:E.a.nameForm,children:[a,":"]}),Object(w.jsx)("span",{className:E.a.numberForm,children:c}),Object(w.jsx)("button",{className:E.a.btnDelete,type:"button",onClick:function(){t(function(t){return function(e){e(g()),p.a.delete("/contacts/".concat(t)).then((function(){return e(L(t))})).catch((function(t){return e(k(t))}))}}(n))},children:Object(w.jsx)("img",{className:E.a.svgBtnDelete,src:"https://img.icons8.com/external-kiranshastry-lineal-color-kiranshastry/64/000000/external-delete-multimedia-kiranshastry-lineal-color-kiranshastry.png",alt:"delete button"})})]},n)}))}):null})}q.defaultProps={name:"Name Surname",number:"123 456 789"};var J=q,R=n(81);function Z(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(R.a,{children:[Object(w.jsx)("h2",{children:"Phonebook"}),Object(w.jsx)(y,{})]}),Object(w.jsxs)(R.a,{children:[Object(w.jsx)(z,{}),Object(w.jsx)("h3",{children:"Contacts"}),Object(w.jsx)(J,{})]})]})}},81:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n(27),c=n.n(a),r=n(1);var s=function(t){var e=t.title,n=t.children;return Object(r.jsxs)("div",{className:c.a.container,children:[Object(r.jsx)("h2",{className:c.a.title,children:e}),n]})}},95:function(t,e,n){t.exports={form:"ContactForm_form__3Nw3C",labelForm:"ContactForm_labelForm__2IyY2",formInput:"ContactForm_formInput__RSZUO",btnAdd:"ContactForm_btnAdd__1V0aM",frame:"ContactForm_frame__va5uG",btnList:"ContactForm_btnList__3NGkD",btn12:"ContactForm_btn12__nrzfH"}},99:function(t,e,n){t.exports={filterLabel:"Filter_filterLabel__3IoIa",formInput:"Filter_formInput__2dBez"}}}]);
//# sourceMappingURL=4.7c084d86.chunk.js.map